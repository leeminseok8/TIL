## 💡 Better Way5: 복잡한 식을 쓰는 대신 도우미 함수를 작성하라.

파이썬은 문법이 간결하므로 상당한 로직이 들어가는 식도 한 줄로 쉽게 작성할 수 있다. 이러한 특성을 살려 최대한 짧은 코드를 작성하는 것이 파이썬의 장점이다.

하지만 **무조건 짧게 작성하는 것이 파이썬의 장점일까?** 아래의 예시를 통해 알아보자.

예를 들어 URL의 질의 문자열(query string)을 구문 분석(parsing)하고 싶다고 하자.

```
from urllib.parse import parse_qs

my_values = parse_qs('빨강=5&파랑=0&초록='', keep_blank_values=Ture)
```

위의 파싱된 파라미터의 값을 불러올 때 파이썬의 장점을 살려 짧은 코드를 작성해보자.

```
red = int(my_values.get('빨강', [''])[0] or 0)
```

한 줄로 작성할 수 있지만, 현재 이 코드는 너무 읽기 어렵고, 처음 코드를 읽는 사람이 해석하기 위해 시간을 투자해야 한다. 짧으면 좋지만 한 줄에 우겨 넣을 만큼의 가치는 없다.

```
green_str = my_values.get('초록', [''])
if green_str[0]:
    green = int(green_str[0])
else:
    green = 0
```

이 방식이 나를 포함하여 처음 코딩을 접한 사람들이 작성하는 방식이라고 생각한다.

이 로직을 반복 적용하려면 (현재 예제처럼 단지 두세 번에 불과할지라도) 꼭 도우미 함수를 작성해야 한다.

```
def get_first_int(values, key, default=0):
    found = values.get(key, [''])
    if found[0]:
        return int(found[0])
    return default
```

도우미 함수 호출을 사용해 작성한 코드는 앞에서 본 복잡한 버전이나 두 줄 짜리 if/else 식 버전보다 훨씬 명확하다.

```
green = get_first_int(my_valuse, '초록')
```

식이 복잡해지기 시작하면 식을 더 작게 나눠서 로직을 도우미 함수로 옮길지 고려해야 한다.

## 아무리 짧게 줄여 쓰는 것을 좋아해도, 코드를 줄여 쓰는 것보다 가독성을 좋게 하는 것이 더 가치 있다.

복잡한 식을 표현할 수 있는 파이썬의 함축적인 문법이 이런 지저분한 코드를 만들어내지 않도록 하자. '반복하지 말라(Don't Repeat Yourself)'는 뜻의 DRY 원칙을 따르자.

## 기억해야 할 내용
- 복잡한 식을 도우미 함수로 옮겨라. 특히!! 같은 로직을 반복해 사용할 때는 도우미 함수를 꼭 사용하라.

- 불(boolean) 연산자 or나 and를 식에 사용하는 것보다 if/else 식을 쓰는 편이 더 가독성이 좋다.